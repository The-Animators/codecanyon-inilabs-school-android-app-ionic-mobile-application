{"version":3,"sources":["webpack:///./src/app/pages/payment/razor/razor.module.ts","webpack:///./src/app/pages/payment/razor/razor.page.html","webpack:///./src/app/pages/payment/razor/razor.page.scss","webpack:///./src/app/pages/payment/razor/razor.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACA;AACE;AAEN;AAgBzC;IAAA;IAA+B,CAAC;IAAnB,eAAe;QAd3B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC;oBACpB;wBACE,IAAI,EAAE,EAAE;wBACR,SAAS,EAAE,qDAAS;qBACrB;iBACF,CAAC;aACH;YACD,YAAY,EAAE,CAAC,qDAAS,CAAC;SAC1B,CAAC;OACW,eAAe,CAAI;IAAD,sBAAC;CAAA;AAAJ;;;;;;;;;;;;ACtB5B,kgBAAkgB,gBAAgB,eAAe,qQ;;;;;;;;;;;ACAjiB,8CAA8C,qBAAqB,qBAAqB,EAAE,+CAA+C,+c;;;;;;;;;;;;;;;;;;;;;;;ACA/F;AACM;AACE;AAC2C;AACV;AAC5B;AACiB;AASxE;IAUE,mBACY,IAAgB,EAChB,OAAgB,EAChB,WAAkC,EAClC,SAA0B,EAC1B,WAA8B,EAC9B,SAA0B,EAC1B,KAAqB,EACrB,MAAc,EACf,cAA8B;QATzC,iBAmBC;QAlBW,SAAI,GAAJ,IAAI,CAAY;QAChB,YAAO,GAAP,OAAO,CAAS;QAChB,gBAAW,GAAX,WAAW,CAAuB;QAClC,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAC1B,UAAK,GAAL,KAAK,CAAgB;QACrB,WAAM,GAAN,MAAM,CAAQ;QACf,mBAAc,GAAd,cAAc,CAAgB;QAlBzC,kBAAa,GAAG,GAAG,CAAC;QACpB,aAAQ,GAAG,KAAK,CAAC;QACjB,iBAAY,GAAG,GAAG,CAAC;QACnB,cAAS,GAAG,yBAAyB,CAAC;QAiBpC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,gBAAM;YACrC,IAAI,MAAM,IAAI,MAAM,CAAC,OAAO,EAAE;gBAC5B,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAChD,KAAI,CAAC,aAAa,GAAG,MAAM,CAAC,WAAW,CAAC;gBACxC,KAAI,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;aAC7C;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IACD,kCAAc,GAAd;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAEK,kCAAc,GAApB;;;;;4BAEkB,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BAC5C,OAAO,EAAE,gBAAgB;4BACzB,OAAO,EAAE,UAAU;yBACpB,CAAC;;wBAHI,OAAO,GAAG,SAGd;wBACF,qBAAM,OAAO,CAAC,OAAO,EAAE;;wBAAvB,SAAuB,CAAC;;;;;KACzB;IAEK,gCAAY,GAAlB,UAAmB,IAAI;;;;;4BACP,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACxC,MAAM,EAAE,OAAO;4BACf,OAAO,EAAE,IAAI,CAAC,OAAO;4BACrB,OAAO,EAAE,CAAC,SAAS,CAAC;yBACrB,CAAC;;wBAJI,KAAK,GAAG,SAIZ;wBAEF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACvB;IACK,gCAAY,GAAlB;;;;;4BACgB,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACxC,OAAO,EAAE,iDAAiD;4BAC1D,QAAQ,EAAE,KAAK;4BACf,QAAQ,EAAE,IAAI;yBACf,CAAC;;wBAJI,KAAK,GAAG,SAIZ;wBACF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACvB;IAED,4BAAQ,GAAR;QAAA,iBAeC;QAbC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE;YACnE,IAAI,CAAC,YAAY,EAAE,CAAC;SACrB;aAAM;YACL,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE;iBACzB,IAAI,CAAC,UAAC,IAAS;gBACd,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,aAAa,EAAE;oBAC9C,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC,eAAe,CAAC;oBACzC,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC;iBACpC;YACH,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK,IAAK,CAAC,CAAC,CAAC;SAC3B;IACH,CAAC;IAED,gCAAY,GAAZ;QACE,IAAM,OAAO,GAAG;YACd,WAAW,EAAE,8BAA8B;YAC3C,KAAK,EAAE,iCAAiC;YACxC,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,GAAG,EAAE,IAAI,CAAC,SAAS;YACnB,MAAM,EAAE,IAAI,CAAC,aAAa;YAC1B,IAAI,EAAE,KAAK;YACX,OAAO,EAAE;gBACP,KAAK,EAAE,kBAAkB;gBACzB,OAAO,EAAE,YAAY;gBACrB,IAAI,EAAE,QAAQ;aACf;YACD,KAAK,EAAE;gBACL,KAAK,EAAE,SAAS;aACjB;YACD,KAAK,EAAE;gBACL,SAAS;oBACP,KAAK,CAAC,WAAW,CAAC,CAAC;gBACrB,CAAC;aACF;SACF,CAAC;QAEF,IAAI,eAAe,GAAG,UAAU,UAAU;YACxC,KAAK,CAAC,cAAc,GAAG,UAAU,CAAC,CAAC;QACrC,CAAC,CAAC;QAEF,IAAI,cAAc,GAAG,UAAU,KAAK;YAClC,KAAK,CAAC,KAAK,CAAC,WAAW,GAAG,UAAU,GAAG,KAAK,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC;QAC3D,CAAC,CAAC;QAEF,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,eAAe,EAAE,cAAc,CAAC,CAAC;IAClE,CAAC;IA9GU,SAAS;QALrB,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,uGAA8B;;SAE/B,CAAC;+EAYkB,+DAAU;YACP,iEAAO;YACH,oGAAqB;YACvB,8DAAe;YACb,gEAAiB;YACnB,8DAAe;YACnB,8DAAc;YACb,sDAAM;YACC,+EAAc;OAnB9B,SAAS,CAgHrB;IAAD,gBAAC;CAAA;AAhHqB","file":"pages-payment-razor-razor-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { RazorPage } from './razor.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: RazorPage\n      }\n    ])\n  ],\n  declarations: [RazorPage]\n})\nexport class RazorPageModule { }\n","module.exports = \"<ion-header>\\n  <ion-toolbar class=\\\"background-color\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      RazorPay\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card class=\\\"welcome-card\\\">\\n    <ion-img src=\\\"/assets/razorpay.jpeg\\\"></ion-img>\\n    <ion-card-header>\\n      <ion-row>\\n        <ion-col>\\n          <h4>Total Payment</h4>\\n        </ion-col>\\n        <ion-col>\\n          <h3>{{currencyIcon}}{{paymentAmount}}</h3>\\n        </ion-col>\\n      </ion-row>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-button expand=\\\"full\\\" color=\\\"success\\\" (click)=\\\"payWithRazor()\\\">Pay with RazorPay</ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\"","module.exports = \"razor.welcome-card ion-img {\\n  max-height: 35vh;\\n  overflow: hidden; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGF5bWVudC9yYXpvci9EOlxcc2Nob29sQXBwXFxzY2hvb2xhcHAvc3JjXFxhcHBcXHBhZ2VzXFxwYXltZW50XFxyYXpvclxccmF6b3IucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGdCQUFnQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcGF5bWVudC9yYXpvci9yYXpvci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJyYXpvci53ZWxjb21lLWNhcmQgaW9uLWltZyB7XG4gIG1heC1oZWlnaHQ6IDM1dmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4iXX0= */\"","import { Component } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {Network} from '@ionic-native/network/ngx';\nimport {AuthenticationService} from '../../../service/authentication/authentication.service';\nimport {AlertController, LoadingController, ToastController} from '@ionic/angular';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {AccountService} from '../../../service/account/account.service';\n\ndeclare var RazorpayCheckout: any;\n\n@Component({\n  selector: 'app-razor',\n  templateUrl: 'razor.page.html',\n  styleUrls: ['razor.page.scss'],\n})\nexport class RazorPage {\n  paymentAmount = 333;\n  currency = 'USD';\n  currencyIcon = '$';\n  razor_key = 'rzp_test_jsC013SFkMOZlP';\n  siteinfo: any;\n  invoiceAmount: any;\n  mainInivoiceID: any;\n\n\n  constructor(\n      private http: HttpClient,\n      private network: Network,\n      private authService: AuthenticationService,\n      private toastCtrl: ToastController,\n      public  loadingCtrl: LoadingController,\n      public  alertCtrl: AlertController,\n      private route: ActivatedRoute,\n      private router: Router,\n      public accountService: AccountService,\n  ) {\n    this.route.queryParams.subscribe(params => {\n      if (params && params.special) {\n        this.invoiceAmount = JSON.parse(params.special);\n        this.paymentAmount = params.totalAmount;\n        this.mainInivoiceID = params.mainInivoiceID;\n      }\n    });\n    this.siteInfo();\n  }\n  ionViewDidLoad() {\n    this.siteInfo();\n  }\n\n  async presentLoading() {\n\n    const loading = await this.loadingCtrl.create({\n      message: 'Please wait...',\n      spinner: 'crescent',\n    });\n    await loading.present();\n  }\n\n  async presentAlert(data) {\n    const alert = await this.alertCtrl.create({\n      header: 'Login',\n      message: data.message,\n      buttons: ['Dismiss']\n    });\n\n    await alert.present();\n  }\n  async presentToast() {\n    const toast = await this.toastCtrl.create({\n      message: 'You are offline, please connect your wifi or 3g',\n      position: 'top',\n      duration: 2000\n    });\n    await toast.present();\n  }\n\n  siteInfo() {\n\n    if (this.network.type === 'none' || this.network.type === 'unknown') {\n      this.presentToast();\n    } else {\n      this.authService.getSiteInfo()\n          .then((data: any) => {\n            console.log(data);\n            this.siteinfo = data;\n            if (data.currency_symbol && data.currency_code) {\n              this.currencyIcon = data.currency_symbol;\n              this.currency = data.currency_code;\n            }\n          }).catch(error => {});\n    }\n  }\n\n  payWithRazor() {\n    const options = {\n      description: 'Credits towards consultation',\n      image: 'https://i.imgur.com/3g7nmJC.png',\n      currency: this.currency,\n      key: this.razor_key,\n      amount: this.paymentAmount,\n      name: 'foo',\n      prefill: {\n        email: 'admin@enappd.com',\n        contact: '9621323231',\n        name: 'Enappd'\n      },\n      theme: {\n        color: '#528FF0'\n      },\n      modal: {\n        ondismiss() {\n          alert('dismissed');\n        }\n      }\n    };\n\n    let successCallback = function (payment_id) {\n      alert('payment_id: ' + payment_id);\n    };\n\n    let cancelCallback = function (error) {\n      alert(error.description + ' (Error ' + error.code + ')');\n    };\n\n    RazorpayCheckout.open(options, successCallback, cancelCallback);\n  }\n\n}\n"],"sourceRoot":""}
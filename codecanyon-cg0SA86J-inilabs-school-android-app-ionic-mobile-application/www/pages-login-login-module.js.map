{"version":3,"sources":["webpack:///./src/app/pages/login/login.module.ts","webpack:///./src/app/pages/login/login.page.html","webpack:///./src/app/pages/login/login.page.scss","webpack:///./src/app/pages/login/login.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACiB;AACT;AAEV;AAEJ;AAEzC,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qDAAS;KACrB;CACF,CAAC;AAaF;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAX3B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC3B,0DAAW;gBACX,kEAAmB;aACtB;YACD,YAAY,EAAE,CAAC,qDAAS,CAAC;SAC1B,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;AC3B5B,sRAAsR,SAAS,iBAAiB,gBAAgB,2FAA2F,oBAAoB,qqC;;;;;;;;;;;ACA/a,4BAA4B,gBAAgB,iBAAiB,EAAE,aAAa,iBAAiB,EAAE,aAAa,8BAA8B,EAAE,gBAAgB,qBAAqB,EAAE,sDAAsD,aAAa,mBAAmB,EAAE,EAAE,gBAAgB,qCAAqC,wBAAwB,mBAAmB,uBAAuB,uBAAuB,EAAE,kBAAkB,qCAAqC,mBAAmB,iBAAiB,gBAAgB,EAAE,iBAAiB,mBAAmB,EAAE,eAAe,mBAAmB,sBAAsB,oBAAoB,EAAE,+CAA+C,2oD;;;;;;;;;;;;;;;;;;;;;;;ACA3nB;AACA;AACgE;AACxB;AACT;AAC3C;AACC;AACQ;AAY/C;IAMI,mBACS,MAAc,EACb,OAAgB,EAChB,SAA0B,EAC1B,WAAkC,EAClC,WAA8B,EAC9B,SAA0B,EAC3B,QAAwB,EACvB,MAAc,EACf,OAAsB;QARtB,WAAM,GAAN,MAAM,CAAQ;QACb,YAAO,GAAP,OAAO,CAAS;QAChB,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAuB;QAClC,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAC3B,aAAQ,GAAR,QAAQ,CAAgB;QACvB,WAAM,GAAN,MAAM,CAAQ;QACf,YAAO,GAAP,OAAO,CAAe;QAZ/B,SAAI,GAAO,IAAI,MAAM,EAAE,CAAC;QAetB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,GAAG,IAAI,wDAAS,CAAC;YAC3B,QAAQ,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACpD,QAAQ,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;SACvD,CAAC,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,sDAAO,CAAC;IAC3B,CAAC;IAEH,4BAAQ,GAAR;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEO,kCAAc,GAApB;;;;;4BAEsB,qBAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;4BAC1C,OAAO,EAAE,gBAAgB;4BACzB,OAAO,EAAE,UAAU;yBACtB,CAAC;;wBAHI,OAAO,GAAG,SAGd;wBACF,qBAAM,OAAO,CAAC,OAAO,EAAE;;wBAAvB,SAAuB,CAAC;;;;;KAE7B;IAEK,gCAAY,GAAlB;;;;;4BACkB,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACtC,OAAO,EAAE,iDAAiD;4BAC1D,QAAQ,EAAE,KAAK;4BACf,QAAQ,EAAE,IAAI;yBACjB,CAAC;;wBAJI,KAAK,GAAG,SAIZ;wBACF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACzB;IAEK,gCAAY,GAAlB,UAAmB,IAAI;;;;;4BACL,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BACtC,MAAM,EAAE,OAAO;4BACf,OAAO,EAAE,IAAI,CAAC,OAAO;4BACrB,OAAO,EAAE,CAAC,SAAS,CAAC;yBACvB,CAAC;;wBAJI,KAAK,GAAG,SAIZ;wBAEF,qBAAM,KAAK,CAAC,OAAO,EAAE;;wBAArB,SAAqB,CAAC;;;;;KACzB;IAEK,2BAAO,GAAb;;;;4BACW,qBAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAc,WAAW,EAAE,IAAI,EAAU,CAAC;4BAAhF,sBAAO,SAAyE,EAAC;;;;KACpF;IAED,4BAAQ,GAAR;QAAA,iBAUC;QARG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE;YACjE,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE;iBACzB,IAAI,CAAC,UAAC,IAAS;gBACZ,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACzB,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK,IAAK,CAAC,CAAC,CAAC;SAC7B;IACL,CAAC;IAED,yBAAK,GAAL;QAAA,iBAmBC;QAjBG,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE;YACjE,IAAI,CAAC,YAAY,EAAE,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;iBAC5B,IAAI,CAAC,UAAC,IAAS;gBACZ,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBAClD,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;gBACjD,IAAI,IAAI,EAAE;oBACN,KAAI,CAAC,OAAO,EAAE,CAAC;oBACf,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;iBACvC;YACL,CAAC,CAAC,CAAC,KAAK,CAAC,eAAK;gBACV,KAAI,CAAC,OAAO,EAAE,CAAC;gBACf,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC;SACV;IACL,CAAC;IA9FQ,SAAS;QALrB,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,+FAAgC;;SAEjC,CAAC;+EAQmB,qDAAM;YACJ,iEAAO;YACL,8DAAe;YACb,oGAAqB;YACrB,gEAAiB;YACnB,8DAAe;YACjB,6DAAc;YACf,sDAAM;YACN,4DAAa;OAftB,SAAS,CAgGrB;IAAD,gBAAC;CAAA;AAhGqB","file":"pages-login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n      FormsModule,\n      ReactiveFormsModule,\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","module.exports = \"    <ion-grid class=\\\"bg-image no-scroll\\\">\\n        <ion-row justify-content-center>\\n            <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\" >\\n                <div text-center>\\n                    <img color=\\\"secondary\\\" src=\\\"{{siteUrl}}uploads/images/{{siteinfo?.logo}}\\\" class=\\\"img\\\"  alt=\\\"\\\" align=\\\"center\\\">\\n                    <h4 class=\\\"login-h4\\\">{{siteinfo?.sitename}}</h4>\\n                </div>\\n                <form novalidate [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"login()\\\" >\\n\\n                    <div padding>\\n                        <ion-item class=\\\"loginitem\\\">\\n                            <ion-input class=\\\"logininput\\\" type=\\\"text\\\" [(ngModel)]=\\\"user.username\\\" formControlName=\\\"username\\\" placeholder=\\\"Username\\\"></ion-input>\\n                        </ion-item>\\n                        <ion-item class=\\\"loginitem\\\">\\n                            <ion-input type=\\\"password\\\" class=\\\"logininput\\\" [(ngModel)]=\\\"user.password\\\" formControlName=\\\"password\\\" placeholder=\\\"Password\\\"></ion-input>\\n                        </ion-item>\\n                    </div>\\n\\n                    <div padding>\\n                        <ion-button class=\\\"loginbutton\\\" size=\\\"large\\\"  type=\\\"submit\\\" [disabled]=\\\"loginForm.invalid\\\" expand=\\\"block\\\">\\n                            <span>Login</span>\\n                            <ion-icon slot=\\\"end\\\" name=\\\"arrow-round-forward\\\"></ion-icon>\\n                        </ion-button>\\n                    </div>\\n                </form>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n\"","module.exports = \"ion-grid {\\n  width: 100%;\\n  height: 100%; }\\n\\nion-row {\\n  height: 100%; }\\n\\nion-col {\\n  border: 1px solid #488aff; }\\n\\nion-button {\\n  font-weight: 300; }\\n\\n@media (min-width: 240px) and (max-width: 768px) {\\n  ion-col {\\n    border: none; } }\\n\\n.loginitem {\\n  --background: #1D223a !important;\\n  border: 2px #989aa2;\\n  color: #ffffff;\\n  border-radius: 5px;\\n  margin-bottom: 8px; }\\n\\n.loginbutton {\\n  --background: #1D223a !important;\\n  color: #ffffff;\\n  padding: 3px;\\n  margin: 0px; }\\n\\n.logininput {\\n  color: #ffffff; }\\n\\n.login-h4 {\\n  color: #ffffff;\\n  font-weight: bold;\\n  font-size: 18px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vRDpcXHNjaG9vbEFwcFxcc2Nob29sYXBwL3NyY1xcYXBwXFxwYWdlc1xcbG9naW5cXGxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQTtFQUNFLFdBQVU7RUFDVixZQUpjLEVBQUE7O0FBT2hCO0VBQ0UsWUFSYyxFQUFBOztBQVdoQjtFQUNFLHlCQUF5QixFQUFBOztBQUczQjtFQUNFLGdCQUFnQixFQUFBOztBQUdsQjtFQUdFO0lBQ0UsWUFBWSxFQUFBLEVBQ2I7O0FBR0g7RUFDRSxnQ0FBYTtFQUNiLG1CQUFtQjtFQUNuQixjQUFjO0VBQ2Qsa0JBQWtCO0VBQ2xCLGtCQUFrQixFQUFBOztBQUdwQjtFQUNFLGdDQUFhO0VBQ2IsY0FBYztFQUNkLFlBQVk7RUFDWixXQUFXLEVBQUE7O0FBR2I7RUFDRSxjQUFjLEVBQUE7O0FBSWhCO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixlQUFlLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtbG9naW4ge1xuXG59XG5cbiR3aGl0ZS1jb2xvcjogI2ZmZjtcbiRoZWlnaHQxMDA6IDEwMCU7XG5cbmlvbi1ncmlkIHtcbiAgd2lkdGg6MTAwJTtcbiAgaGVpZ2h0OiAkaGVpZ2h0MTAwO1xufVxuXG5pb24tcm93IHtcbiAgaGVpZ2h0OiAkaGVpZ2h0MTAwO1xufVxuXG5pb24tY29sIHtcbiAgYm9yZGVyOiAxcHggc29saWQgIzQ4OGFmZjtcbn1cblxuaW9uLWJ1dHRvbiB7XG4gIGZvbnQtd2VpZ2h0OiAzMDA7XG59XG5cbkBtZWRpYSAobWluLXdpZHRoOiAyNDBweCkgYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIGlvbi1ncmlkIHtcbiAgfVxuICBpb24tY29sIHtcbiAgICBib3JkZXI6IG5vbmU7XG4gIH1cbn1cblxuLmxvZ2luaXRlbXtcbiAgLS1iYWNrZ3JvdW5kOiAjMUQyMjNhICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogMnB4ICM5ODlhYTI7XG4gIGNvbG9yOiAjZmZmZmZmO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDhweDtcblxufVxuLmxvZ2luYnV0dG9ue1xuICAtLWJhY2tncm91bmQ6ICMxRDIyM2EgIWltcG9ydGFudDtcbiAgY29sb3I6ICNmZmZmZmY7XG4gIHBhZGRpbmc6IDNweDtcbiAgbWFyZ2luOiAwcHg7XG5cbn1cbi5sb2dpbmlucHV0e1xuICBjb2xvcjogI2ZmZmZmZjtcblxufVxuXG4ubG9naW4taDQge1xuICBjb2xvcjogI2ZmZmZmZjtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc2l6ZTogMThweDtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport {Network} from '@ionic-native/network/ngx';\nimport {ToastController, LoadingController, MenuController, AlertController, NavController} from '@ionic/angular';\nimport {AuthenticationService} from '../../service/authentication/authentication.service';\nimport { Validators, FormBuilder, FormGroup, FormControl } from '@angular/forms';\nimport {Events} from '@ionic/angular';\nimport {Router} from '@angular/router';\nimport {fileUrl} from '../../../config/config';\n\n\n\n\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n    loginForm: FormGroup;\n    user:any = new Object();\n    siteinfo: any;\n    private siteUrl: any;\n    constructor(\n      public events: Events,\n      private network: Network,\n      private toastCtrl: ToastController,\n      private authService: AuthenticationService,\n      public  loadingCtrl: LoadingController,\n      public  alertCtrl: AlertController,\n      public menuCtrl: MenuController,\n      private router: Router,\n      public navCtrl: NavController,\n\n  ) {\n      this.menuCtrl.enable(false, 'menu');\n      this.loginForm = new FormGroup({\n          username: new FormControl('', [Validators.required]),\n          password: new FormControl('', [Validators.required]),\n      });\n        this.siteUrl = fileUrl;\n    }\n\n  ngOnInit() {\n      this.siteInfo();\n  }\n\n    async presentLoading() {\n\n          const loading = await this.loadingCtrl.create({\n              message: 'Please wait...',\n              spinner: 'crescent',\n          });\n          await loading.present();\n\n    }\n\n    async presentToast() {\n        const toast = await this.toastCtrl.create({\n            message: 'You are offline, please connect your wifi or 3g',\n            position: 'top',\n            duration: 2000\n        });\n        await toast.present();\n    }\n\n    async presentAlert(data) {\n        const alert = await this.alertCtrl.create({\n            header: 'Login',\n            message: data.message,\n            buttons: ['Dismiss']\n        });\n\n        await alert.present();\n    }\n\n    async dismiss() {\n        return await this.loadingCtrl.dismiss({             'dismissed': true         });\n    }\n\n    siteInfo() {\n\n        if (this.network.type === 'none' || this.network.type === 'unknown') {\n            this.presentToast();\n        } else {\n            this.authService.getSiteInfo()\n                .then((data: any) => {\n                    this.siteinfo = data;\n                }).catch(error => {});\n        }\n    }\n\n    login() {\n\n        if (this.network.type === 'none' || this.network.type === 'unknown') {\n            this.presentToast();\n        } else {\n            this.presentLoading();\n            this.authService.login(this.user)\n                .then((data: any) => {\n                    this.events.publish('user:created', data.profile);\n                    this.events.publish('token:created', data.token);\n                    if (data) {\n                        this.dismiss();\n                        this.router.navigate(['dashboard']);\n                    }\n                }).catch(error => {\n                    this.dismiss();\n                    this.presentAlert(error);\n                });\n        }\n    }\n\n}\n"],"sourceRoot":""}